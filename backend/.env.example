# ============================================
# Backend Environment Configuration
# ============================================
# Скопируйте этот файл в .env и заполните реальными значениями
# cp .env.example .env

# ============================================
# Database Configuration
# ============================================
# PostgreSQL connection string
# Формат: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://app_user:password@127.0.0.1:5432/app_db

# Альтернативный способ указания параметров БД (если не используете DATABASE_URL)
DB_HOST=127.0.0.1
DB_PORT=5432
DB_NAME=app_db
DB_USER=app_user
DB_PASSWORD=password

# ============================================
# JWT Authentication
# ============================================
# Секретный ключ для подписи access токенов
# Сгенерируйте безопасный случайный ключ (минимум 32 символа)
# Можно использовать: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=96eac3aa78e834b00cf842e5dae364b20062f46dac0f29d42d2e7dff515c3422

# Секретный ключ для подписи refresh токенов
# Должен отличаться от SECRET_KEY
REFRESH_SECRET_KEY=fdf58e4ea49f5d3f66d1faa0ee7b1e77b4a415695e5ffe45dd33bc72ac0478ef

# Алгоритм подписи JWT токенов
JWT_ALGORITHM=HS256

# Время жизни access токена (в минутах)
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Время жизни refresh токена (в днях)
REFRESH_TOKEN_EXPIRE_DAYS=30

# ============================================
# Messenger Bot Configuration
# ============================================
# Токен бота мессенджера Max для валидации InitData
# Получите токен в настройках вашего бота
BOT_TOKEN=YOUR_BOT_TOKEN_HERE

# ============================================
# Server Configuration
# ============================================
# Хост для запуска сервера
SERVER_HOST=0.0.0.0

# Порт для запуска сервера
SERVER_PORT=8000

# Режим разработки (true/false)
DEBUG=false

# ============================================
# CORS Configuration
# ============================================
# Разрешенные домены для CORS (через запятую)
# Пример: https://whitea.cloud,https://api.whitea.cloud,http://localhost:5173
CORS_ORIGINS=https://whitea.cloud,https://api.whitea.cloud,http://localhost,http://localhost:8080,http://localhost:5173

# Разрешенные методы для CORS
CORS_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS

# Максимальное время кеширования CORS preflight запросов (в секундах)
CORS_MAX_AGE=3600

# ============================================
# File Upload Configuration
# ============================================
# Директория для загруженных файлов (относительно корня backend/)
UPLOADS_DIR=uploads

# Максимальный размер загружаемого файла (в байтах)
# По умолчанию: 10MB = 10485760
MAX_UPLOAD_SIZE=10485760

# Разрешенные типы файлов (через запятую)
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp,image/heic,image/heif

# Базовый URL для доступа к загруженным файлам
# Используется для формирования полных URL фотографий
BASE_URL=https://api.whitea.cloud

# ============================================
# Logging Configuration
# ============================================
# Уровень логирования (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Путь к файлу логов ошибок (относительно корня backend/)
ERROR_LOG_FILE=error.log

# Максимальный размер файла лога (в байтах)
# По умолчанию: 5MB = 5242880
LOG_MAX_BYTES=5242880

# Количество резервных копий логов
LOG_BACKUP_COUNT=2

# ============================================
# WebSocket Configuration
# ============================================
# Включить WebSocket поддержку (true/false)
WEBSOCKET_ENABLED=true

# ============================================
# Security Configuration
# ============================================
# Включить HTTPS редиректы (true/false)
FORCE_HTTPS=false

# Дополнительные заголовки безопасности
SECURITY_HEADERS_ENABLED=true
